<div class="form-subcategory" data-controller="other-account"
                              data-other-account-order-value=<%= order_accounts %>
                              data-other-account-subcategory-value=<%= subcategory.id %>
                              data-other-account-account-number-value=<%= Account.where(status: 'validated').count %>
                              data-other-account-other-account-value=<%= @order.order_accounts.select { |o_a| o_a.account.subcategory == subcategory && o_a.account.status == 'non_validated' }.size %>>

  <div class="account-grid">
    <% Account.validated_accounts_from_subcategory(subcategory).order(:name).each do |account| %>

      <%= simple_form_for OrderAccount.new do |f_order_accounts| %>
        <%= f_order_accounts.input :account_id, input_html: { value: account.id }, as: :hidden %>
        <%= f_order_accounts.input :order_id, input_html: { value: order.id }, as: :hidden %>
        <%= f_order_accounts.submit account.name %>
      <% end %>
    <% end %>
  </div>
</div>

<% content_for :title, "Changer mon mot de passe - Eligia" %>

<% content_for :scroll_navbar, 'scroll-navbar' %>
<% content_for :home_navbar, 'home-navbar' %>
<%= render 'shared/navbar' %>

<div class="  gradient-bg mobile-contact-grid">
  <turbo-frame id='password'>
    <div class="form-div doubled-form">
      <h2 class='home-title'>Confirmation du mot de passe actuel</h2>

      <div class='bold'>Mot de passe confirmé</div>
    </div>

    <div class="form-div doubled-form">
      <h2 class='home-title'>Mettre à jour le mot de passe</h2>

      <%= simple_form_for(@current_user, html: { "data-turbo": "false", method: :patch }) do |f| %>
        <%= f.error_notification %>

        <div class="form-inputs" data-controller='show-password'>
          <div class="form-inputs-block">
            <%= f.label 'Nouveau mot de passe' %>
            <div class='d-flex align-items-center' data-controller='show-password'>
              <%= f.input :password,
                          required: true,
                          label: false,
                          placeholder:'**********',
                          input_html: { data: { 'show-password-target':'field' } }%>
              <div class="show-password-btn" data-action='click->show-password#show' data-show-password-target='eye'>
                <i class="fa-solid fa-eye"></i>
              </div>
            </div>
          </div>
          <div class="form-inputs-block confirm">
            <%= f.label 'Confirmation du mot de passe' %>
            <div class='d-flex align-items-center' data-controller='show-password'>
              <%= f.input :password_confirmation,
                          required: true,
                          label: false,
                          placeholder:'**********',
                          input_html: { data: { 'show-password-target':'field' } }%>
              <div class="show-password-btn" data-action='click->show-password#show' data-show-password-target='eye'>
                <i class="fa-solid fa-eye"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <%= f.button :submit, "Confirmer", class: 'btn-principal' %>
        </div>
      <% end %>
    </div>
  </turbo-frame>
</div>
